<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">

  <title>leaflet-csvtiles demo</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
  <script src="../lib/papaparse.min.js"></script>
  <script src="../leaflet-csvtiles.js"></script>

</head>

<body>

  <div id="map" style="height:600px; width: 800px;"></div>

</body>


<script>
  var bounds = [
    [54.559322, -5.767822],
    [56.1210604, -3.021240]
  ];
  var map = L.map('map', {
    zoomControl: true
  });
  var lc = L.control.layers({});
  map.addControl(lc);
  var base = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
    maxZoom: 12,
    minZoom: 0,
    maxNativeZoom: 5,
    tileSize: 256
  });
  var points = L.csvTiles("points/points_heic1112a_X{x}_Y{y}.tif.csv", {
    columns: {
      x: 0,
      y: 1
    },
    tileSize: [1000, 1000],
    size: 6856,
    minZoom: 2,
    radius: 3,
    localRS: true,
    grid: true,
    color: 'red',
    fillColor: 'orange',
    fillOpacity: 0.8,
    opacity: 1,
    weight: 2,
    radius: 3,
    bounds : bounds,
    attribution: '<a href="https://github.com/gherardovarando/leaflet-csvtiles">csv-tiles</a> '
  });
  base.addTo(map);
  lc.addBaseLayer(base, 'World');
  points.addTo(map);
  lc.addOverlay(points, 'Points');
  map.fitBounds(bounds);
  L.marker(bounds[0]).addTo(map);
  L.marker(bounds[1]).addTo(map);
  L.rectangle(bounds, {color: "#ff7800", weight: 1}).addTo(map);
  L.marker(L.latLngBounds(bounds).getCenter()).addTo(map);

</script>


</html>
